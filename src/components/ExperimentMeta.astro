---
import type { CollectionEntry } from "astro:content";
import { format } from "@/utils/date";

interface Props {
  post: CollectionEntry<"posts">;
}

const { post } = Astro.props;
const { data } = post;
---
<div class="rounded-3xl border border-base-200 bg-base-50/60 p-6 text-sm text-base-600">
  <p class="text-xs uppercase tracking-[0.35em] text-base-500">Experiment signal</p>
  <dl class="mt-2 grid grid-cols-2 gap-4 text-sm sm:grid-cols-3">
    <div>
      <dt class="text-base-500">Type</dt>
      <dd class="font-semibold text-base-900">{data.experiment_type}</dd>
    </div>
    <div>
      <dt class="text-base-500">Render mode</dt>
      <dd class="font-semibold text-base-900">{data.render_mode}</dd>
    </div>
    <div>
      <dt class="text-base-500">Published</dt>
      <dd class="font-semibold text-base-900">{format(data.date)}</dd>
    </div>
    <div>
      <dt class="text-base-500">Updated</dt>
      <dd class="font-semibold text-base-900">{data.updated ? format(data.updated) : "â€”"}</dd>
    </div>
    <div>
      <dt class="text-base-500">Server delay</dt>
      <dd class="font-semibold text-base-900">{data.server_delay_ms ?? 0}ms</dd>
    </div>
    <div>
      <dt class="text-base-500">Client delay</dt>
      <dd class="font-semibold text-base-900">{data.client_delay_ms ?? 0}ms</dd>
    </div>
  </dl>
</div>
